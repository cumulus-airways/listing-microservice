!function(e){function t(e){var t=require("./"+e+"."+o+".hot-update.js");!function(e,t){if(!b[e]||!m[e])return;for(var r in m[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(f[r]=t[r]);0==--y&&0===g&&O()}(t.id,t.modules)}var r,n=!0,o="8f1cb287ccdded36e630",i={},s=[],c=[];function d(e){var t=_[e];if(!t)return S;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(s=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),S(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return S[e]},set:function(t){S[e]=t}}};for(var i in S)Object.prototype.hasOwnProperty.call(S,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,o(i));return n.e=function(e){return"ready"===l&&p("prepare"),g++,S.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===l&&(v[e]||w(e),0===g&&0===y&&O())}},n.t=function(e,t){return 1&t&&(e=n(e)),S.t(e,-2&t)},n}var a=[],l="idle";function p(e){l=e;for(var t=0;t<a.length;t++)a[t].call(null,e)}var u,f,h,y=0,g=0,v={},m={},b={};function D(e){return+e+""===e?+e:e}function j(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return n=e,p("check"),function(){try{var e=require("./"+o+".hot-update.json")}catch(e){return Promise.resolve()}return Promise.resolve(e)}().then(function(e){if(!e)return p("idle"),null;m={},v={},b=e.c,h=e.h,p("prepare");var t=new Promise(function(e,t){u={resolve:e,reject:t}});f={};return w(0),"prepare"===l&&0===g&&0===y&&O(),t})}function w(e){b[e]?(m[e]=!0,y++,t(e)):v[e]=!0}function O(){p("ready");var e=u;if(u=null,e)if(n)Promise.resolve().then(function(){return x(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&t.push(D(r));e.resolve(t)}}function x(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var r,n,c,d,a;function u(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),i=o.id,s=o.chain;if((d=_[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<d.parents.length;c++){var a=d.parents[c],l=_[a];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([a]),moduleId:i,parentId:a};-1===t.indexOf(a)&&(l.hot._acceptedDependencies[i]?(r[a]||(r[a]=[]),y(r[a],[i])):(delete r[a],t.push(a),n.push({chain:s.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var g={},v=[],m={},j=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)){var O;a=D(w);var x=!1,P=!1,I=!1,E="";switch((O=f[w]?u(a):{type:"disposed",moduleId:w}).chain&&(E="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(x=new Error("Aborted because of self decline: "+O.moduleId+E));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(x=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+E));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(x=new Error("Aborted because "+a+" is not accepted"+E));break;case"accepted":t.onAccepted&&t.onAccepted(O),P=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),I=!0;break;default:throw new Error("Unexception type "+O.type)}if(x)return p("abort"),Promise.reject(x);if(P)for(a in m[a]=f[a],y(v,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,a)&&(g[a]||(g[a]=[]),y(g[a],O.outdatedDependencies[a]));I&&(y(v,[O.moduleId]),m[a]=j)}var A,C=[];for(n=0;n<v.length;n++)a=v[n],_[a]&&_[a].hot._selfAccepted&&C.push({module:a,errorHandler:_[a].hot._selfAccepted});p("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var H,F,k=v.slice();k.length>0;)if(a=k.pop(),d=_[a]){var T={},M=d.hot._disposeHandlers;for(c=0;c<M.length;c++)(r=M[c])(T);for(i[a]=T,d.hot.active=!1,delete _[a],delete g[a],c=0;c<d.children.length;c++){var q=_[d.children[c]];q&&((A=q.parents.indexOf(a))>=0&&q.parents.splice(A,1))}}for(a in g)if(Object.prototype.hasOwnProperty.call(g,a)&&(d=_[a]))for(F=g[a],c=0;c<F.length;c++)H=F[c],(A=d.children.indexOf(H))>=0&&d.children.splice(A,1);for(a in p("apply"),o=h,m)Object.prototype.hasOwnProperty.call(m,a)&&(e[a]=m[a]);var U=null;for(a in g)if(Object.prototype.hasOwnProperty.call(g,a)&&(d=_[a])){F=g[a];var N=[];for(n=0;n<F.length;n++)if(H=F[n],r=d.hot._acceptedDependencies[H]){if(-1!==N.indexOf(r))continue;N.push(r)}for(n=0;n<N.length;n++){r=N[n];try{r(F)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:F[n],error:e}),t.ignoreErrored||U||(U=e)}}}for(n=0;n<C.length;n++){var R=C[n];a=R.module,s=[a];try{S(a)}catch(e){if("function"==typeof R.errorHandler)try{R.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:r,originalError:e}),t.ignoreErrored||U||(U=r),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:e}),t.ignoreErrored||U||(U=e)}}return U?(p("fail"),Promise.reject(U)):(p("idle"),new Promise(function(e){e(v)}))}var _={};function S(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:j,apply:x,status:function(e){if(!e)return l;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:i[e]};return r=void 0,t}(t),parents:(c=s,s=[],c),children:[]};return e[t].call(n.exports,n,n.exports,d(t)),n.l=!0,n.exports}S.m=e,S.c=_,S.d=function(e,t,r){S.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},S.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},S.t=function(e,t){if(1&t&&(e=S(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(S.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)S.d(r,n,function(t){return e[t]}.bind(null,n));return r},S.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return S.d(t,"a",t),t},S.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},S.p="/Users/saifurrehman/Desktop/ICP-Airways/icp-backend/listing-mongo-microservice/dist",S.h=function(){return o},d(6)(S.s=6)}([function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("express-session")},function(e,t,r){r(7),e.exports=r(9)},function(e,t){e.exports=require("@babel/polyfill")},function(e,t){e.exports=require("reflect-metadata")},function(e,t,r){"use strict";r.r(t);var n=r(4),o=r.n(n),i=r(2),s=r.n(i),c=r(1),d=r.n(c),a=r(3),l=r.n(a),p=r(5),u=r.n(p),f=r(0),h=new(0,f.Schema)({Year:{type:String},Month:{type:String},DepTime:{type:String},DayofMonth:{type:String},DepDelay:{type:String},CRSDepTime:{type:String},ArrTime:{type:String},CRSArrTime:{type:String},FlightNum:{type:String},TailNum:{type:String},ActualElapsedTime:{type:String},CRSElapsedTime:{type:String},Airtime:{type:String},ArrDelay:{type:String},Origin:{type:String},Dest:{type:String},Distance:{type:String}}),y=f.model("Flight",h),g=function(){function e(){}return e.prototype.addNewFlight=function(e,t){t.setHeader("Content-Type","application/json"),new y(e.body).save(function(e,r){e?t.status(404).json({err:e}):t.json(r)})},e.prototype.getFlights=function(e,t){t.setHeader("Content-Type","application/json"),y.find({},function(e,r){e?t.status(404).json({err:e}):t.status(200).send(r)})},e.prototype.searchFlights=function(e,t){t.setHeader("Content-Type","application/json");var r={$and:[{Year:e.body.Year,Month:e.body.Month,DayofMonth:e.body.DayOfMonth,Origin:e.body.origin,Dest:e.body.dest}]};y.find(r,function(e,r){e?t.status(404).json({err:e}):t.status(200).send(r)})},e.prototype.getFlightById=function(e,t){t.setHeader("Content-Type","application/json"),y.findById(e.params.ID,function(e,r){e?t.status(404).json({err:e}):t.status(200).send(r)})},e.prototype.updateFlight=function(e,t){t.setHeader("Content-Type","application/json"),y.findOneAndUpdate({_id:e.params.ID},e.body,{new:!0},function(e,r){e?t.status(404).json({err:e}):t.json(r)})},e.prototype.deleteFlight=function(e,t){t.setHeader("Content-Type","application/json"),y.deleteOne({_id:e.params.ID},function(e){e?t.status(404).json({err:e}):t.json({message:"success"})})},e}(),v=(r(8),(new(function(){function e(){this.flightController=new g,this.router=Object(c.Router)(),this.routes()}return e.prototype.routes=function(){this.router.get("/healthz",function(e,t){t.status(200).send("ok")}),this.router.get("/listFlights",function(e,t,r){r()},this.flightController.getFlights),this.router.post("/listFlights",function(e,t,r){r()},this.flightController.addNewFlight),this.router.post("/searchFlights",function(e,t,r){r()},this.flightController.searchFlights),this.router.get("/listFlights/:ID",function(e,t,r){r()},this.flightController.getFlightById),this.router.put("/listFlights/:ID",function(e,t,r){r()},this.flightController.updateFlight),this.router.delete("/listFlights/:ID",function(e,t,r){r()},this.flightController.deleteFlight)},e}())).router),m=r(0);m.Promise=Promise;var b=(new(function(){function e(){this.mongoUrl="mongodb://168.1.148.8:32165/items",this.express=d()(),this.middleware(),this.routes(),this.mongoSetup()}return e.prototype.mongoSetup=function(){m.Promise=global.Promise,m.connect(this.mongoUrl)},e.prototype.middleware=function(){this.express.use(function(e,t,r){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","*"),r()}),this.express.use(l.a.json()),this.express.use(l.a.urlencoded({extended:!1})),this.express.use(u()({secret:"test123",saveUninitialized:!1,resave:!0}))},e.prototype.routes=function(){this.express.get("/",function(e,t){t.send("hi")}),this.express.use("/",v)},e}())).express;s()("ts-express:server"),new(function(){return function(){var e=this;this.normalizePort=function(e){var t="string"==typeof e?parseInt(e,10):e;return isNaN(t)?e:t>=0&&t},this.onError=function(t){if("listen"!==t.syscall)throw t;var r="string"==typeof e.port?"Pipe "+e.port:"Port "+e.port;switch(t.code){case"EACCES":console.error(r+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(r+" is already in use"),process.exit(1);break;default:throw t}},this.onListening=function(){console.log("listening on "+e.port);var t=e.server.address(),r="string"==typeof t?"pipe "+t:"port "+t.port;s()("Listening on "+r)},this.port=this.normalizePort(7e3),b.set("port",this.port),this.server=o.a.createServer(b),this.server.listen(this.port),this.server.on("error",this.onError),this.server.on("listening",this.onListening)}}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9uZ29vc2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZGVidWdcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYmFiZWwvcG9seWZpbGxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWZsZWN0LW1ldGFkYXRhXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2xpc3RpbmcvbGliL21vZGVscy9jcm1Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvbGlzdGluZy9saWIvY29udHJvbGxlcnMvY3JtQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvbGlzdGluZy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiY2h1bmtJZCIsImNodW5rIiwicmVxdWlyZSIsImhvdEN1cnJlbnRIYXNoIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaWQiLCJtb2R1bGVzIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsInQiLCJtb2RlIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJuZXdTdGF0dXMiLCJpIiwibGVuZ3RoIiwiaG90RGVmZXJyZWQiLCJob3RVcGRhdGVOZXdIYXNoIiwidG9Nb2R1bGVJZCIsImhvdENoZWNrIiwiYXBwbHkiLCJFcnJvciIsInVwZGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaG90RG93bmxvYWRNYW5pZmVzdCIsImMiLCJoIiwicHJvbWlzZSIsInJlamVjdCIsImRlZmVycmVkIiwiaG90QXBwbHkiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiY2IiLCJqIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsInNsaWNlIiwibWFwIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsInR5cGUiLCJfbWFpbiIsInBhcmVudElkIiwicGFyZW50IiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiY29uY2F0IiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwiaWR4Iiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkYXRhIiwiZGlzcG9zZUhhbmRsZXJzIiwiX2Rpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwic3BsaWNlIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwibCIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwidW5kZWZpbmVkIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiY2hlY2siLCJzdGF0dXMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwicyIsIkZsaWdodFNjaGVtYSIsIlNjaGVtYSIsImV4dGVybmFsX21vbmdvb3NlXyIsIlllYXIiLCJTdHJpbmciLCJNb250aCIsIkRlcFRpbWUiLCJEYXlvZk1vbnRoIiwiRGVwRGVsYXkiLCJDUlNEZXBUaW1lIiwiQXJyVGltZSIsIkNSU0FyclRpbWUiLCJGbGlnaHROdW0iLCJUYWlsTnVtIiwiQWN0dWFsRWxhcHNlZFRpbWUiLCJDUlNFbGFwc2VkVGltZSIsIkFpcnRpbWUiLCJBcnJEZWxheSIsIk9yaWdpbiIsIkRlc3QiLCJEaXN0YW5jZSIsIkZsaWdodCIsIkZsaWdodENvbnRyb2xsZXIiLCJhZGROZXdGbGlnaHQiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJib2R5Iiwic2F2ZSIsImZsaWdodCIsImpzb24iLCJnZXRGbGlnaHRzIiwiZmluZCIsInNlbmQiLCJzZWFyY2hGbGlnaHRzIiwicXVlcnkiLCIkYW5kIiwiRGF5T2ZNb250aCIsIm9yaWdpbiIsImRlc3QiLCJnZXRGbGlnaHRCeUlkIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJJRCIsInVwZGF0ZUZsaWdodCIsImZpbmRPbmVBbmRVcGRhdGUiLCJfaWQiLCJuZXciLCJkZWxldGVGbGlnaHQiLCJkZWxldGVPbmUiLCJtZXNzYWdlIiwibGlzdGluZyIsIkxpc3RpbmdNb25nb0NvbnRyb2xsZXIiLCJ0aGlzIiwiZmxpZ2h0Q29udHJvbGxlciIsInJvdXRlciIsImV4dGVybmFsX2V4cHJlc3NfIiwicm91dGVzIiwiXyIsIm5leHQiLCJwb3N0IiwicHV0IiwiZGVsZXRlIiwibW9uZ29vc2UiLCJzZXJ2ZXIiLCJBcHAiLCJtb25nb1VybCIsImV4cHJlc3MiLCJleHRlcm5hbF9leHByZXNzX2RlZmF1bHQiLCJtaWRkbGV3YXJlIiwibW9uZ29TZXR1cCIsImdsb2JhbCIsImNvbm5lY3QiLCJ1c2UiLCJoZWFkZXIiLCJleHRlcm5hbF9ib2R5X3BhcnNlcl9kZWZhdWx0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZXh0ZXJuYWxfZXhwcmVzc19zZXNzaW9uX2RlZmF1bHQiLCJzZWNyZXQiLCJzYXZlVW5pbml0aWFsaXplZCIsInJlc2F2ZSIsImV4dGVybmFsX2RlYnVnX2RlZmF1bHQiLCJfdGhpcyIsIm5vcm1hbGl6ZVBvcnQiLCJ2YWwiLCJwb3J0IiwicGFyc2VJbnQiLCJpc05hTiIsIm9uRXJyb3IiLCJzeXNjYWxsIiwiY29kZSIsInByb2Nlc3MiLCJleGl0Iiwib25MaXN0ZW5pbmciLCJsb2ciLCJhZGRyIiwiYWRkcmVzcyIsImV4dGVybmFsX2h0dHBfZGVmYXVsdCIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsIm9uIl0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQUNBLElBQUFDLEVBQUFDLFFBQUEsS0FBQUYsRUFBQSxJQUFBRyxFQUFBLG1CQTBPQSxTQUFBSCxFQUFBSSxHQUNBLElBQUFDLEVBQUFMLEtBQUFNLEVBQUFOLEdBQ0EsT0FFQSxRQUFBTyxLQURBRCxFQUFBTixJQUFBLEVBQ0FJLEVBQ0FJLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFQLEVBQUFHLEtBQ0FLLEVBQUFMLEdBQUFILEVBQUFHLElBR0EsS0FBQU0sR0FBQSxJQUFBQyxHQUNBQyxJQW5QQUMsQ0FBQWYsRUFBQWdCLEdBQUFoQixFQUFBaUIsU0FrQkEsSUFLQUMsRUFMQUMsR0FBQSxFQUVBakIsRUFBQSx1QkFFQWtCLEVBQUEsR0FHQUMsRUFBQSxHQUVBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQWpCLEdBQ0EsSUFBQWtCLEVBQUFDLEVBQUFuQixHQUNBLElBQUFrQixFQUFBLE9BQUFFLEVBQ0EsSUFBQUMsRUFBQSxTQUFBQyxHQXNCQSxPQXJCQUosRUFBQUssSUFBQUMsUUFDQUwsRUFBQUcsSUFDQSxJQUFBSCxFQUFBRyxHQUFBRyxRQUFBQyxRQUFBMUIsSUFDQW1CLEVBQUFHLEdBQUFHLFFBQUFFLEtBQUEzQixJQUdBZSxFQUFBLENBQUFmLEdBQ0FZLEVBQUFVLElBRUEsSUFBQUosRUFBQVUsU0FBQUYsUUFBQUosSUFDQUosRUFBQVUsU0FBQUQsS0FBQUwsS0FHQU8sUUFBQUMsS0FDQSw0QkFDQVIsRUFD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V0FDQSxJQUFBQyxFQUFBOUIsS0FDQUEsS0FBQStCLGNBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBLGlCQUFBRCxFQUFBRSxTQUFBRixFQUFBLElBQUFBLEVBQ0EsT0FBQUcsTUFBQUYsR0FDQUQsRUFDQUMsR0FBQSxHQUNBQSxHQUlBakMsS0FBQW9DLFFBQUEsU0FBQWhJLEdBQ0EsY0FBQUEsRUFBQWlJLFFBQ0EsTUFBQWpJLEVBQ0EsSUFBQWlDLEVBQUEsaUJBQUF5RixFQUFBRyxLQUFBLFFBQUFILEVBQUFHLEtBQUEsUUFBQUgsRUFBQUcsS0FDQSxPQUFBN0gsRUFBQWtJLE1BQ0EsYUFDQWpPLFFBQUErRixNQUFBaUMsRUFBQSxpQ0FDQWtHLFFBQUFDLEtBQUEsR0FDQSxNQUNBLGlCQUNBbk8sUUFBQStGLE1BQUFpQyxFQUFBLHNCQUNBa0csUUFBQUMsS0FBQSxHQUNBLE1BQ0EsUUFDQSxNQUFBcEksSUFHQTRGLEtBQUF5QyxZQUFBLFdBQ0FwTyxRQUFBcU8sSUFBQSxnQkFBQVosRUFBQUcsTUFDQSxJQUFBVSxFQUFBYixFQUFBbkIsT0FBQWlDLFVBQ0F2RyxFQUFBLGlCQUFBc0csRUFBQSxRQUFBQSxFQUFBLFFBQUFBLEVBQUFWLEtBQ1lKLElBQUssZ0JBQUF4RixJQUVqQjJELEtBQUFpQyxLQUFBakMsS0FBQStCLGNBQUEsS0FDUXBCLEVBQUcvTCxJQUFBLE9BQUFvTCxLQUFBaUMsTUFDWGpDLEtBQUFXLE9BQXNCa0MsRUFBQXZLLEVBQUl3SyxhQUFjbkMsR0FDeENYLEtBQUFXLE9BQUFvQyxPQUFBL0MsS0FBQWlDLE1BQ0FqQyxLQUFBVyxPQUFBcUMsR0FBQSxRQUFBaEQsS0FBQW9DLFNBQ0FwQyxLQUFBVyxPQUFBcUMsR0FBQSxZQUFBaEQsS0FBQXlDLGNBeENjIiwiZmlsZSI6ImJ1bmRsZS1iZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBjaHVuayA9IHJlcXVpcmUoXCIuL1wiICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiKTtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmsuaWQsIGNodW5rLm1vZHVsZXMpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoKSB7XG4gXHRcdHRyeSB7XG4gXHRcdFx0dmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIuL1wiICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCIpO1xuIFx0XHR9IGNhdGNoIChlKSB7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodXBkYXRlKTtcbiBcdH1cblxuIFx0Ly9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG5cbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCI4ZjFjYjI4N2NjZGRlZDM2ZTYzMFwiO1xuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcInRcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0Zm4udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdFx0aWYgKG1vZGUgJiAxKSB2YWx1ZSA9IGZuKHZhbHVlKTtcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KHZhbHVlLCBtb2RlICYgfjEpO1xuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4gXHRcdFx0fSxcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XG4gXHRcdHZhciBpc051bWJlciA9ICtpZCArIFwiXCIgPT09IGlkO1xuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHtcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0fVxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcbiBcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHR7XG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHQpXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9Vc2Vycy9zYWlmdXJyZWhtYW4vRGVza3RvcC9JQ1AtQWlyd2F5cy9pY3AtYmFja2VuZC9saXN0aW5nLW1vbmdvLW1pY3Jvc2VydmljZS9kaXN0XCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSg2KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZGVidWdcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzLXNlc3Npb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3BvbHlmaWxsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7IiwiaW1wb3J0ICogYXMgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcbmV4cG9ydCB2YXIgRmxpZ2h0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgWWVhcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIE1vbnRoOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgRGVwVGltZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIERheW9mTW9udGg6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBEZXBEZWxheToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIENSU0RlcFRpbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBBcnJUaW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgQ1JTQXJyVGltZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIEZsaWdodE51bToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIFRhaWxOdW06IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBBY3R1YWxFbGFwc2VkVGltZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIENSU0VsYXBzZWRUaW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgQWlydGltZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIEFyckRlbGF5OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgT3JpZ2luOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgRGVzdDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIERpc3RhbmNlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0ICogYXMgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyBGbGlnaHRTY2hlbWEgfSBmcm9tIFwiLi4vbW9kZWxzL2NybU1vZGVsXCI7XG52YXIgRmxpZ2h0ID0gbW9uZ29vc2UubW9kZWwoXCJGbGlnaHRcIiwgRmxpZ2h0U2NoZW1hKTtcbnZhciBGbGlnaHRDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZsaWdodENvbnRyb2xsZXIoKSB7XG4gICAgfVxuICAgIEZsaWdodENvbnRyb2xsZXIucHJvdG90eXBlLmFkZE5ld0ZsaWdodCA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgdmFyIG5ld0ZsaWdodCA9IG5ldyBGbGlnaHQocmVxLmJvZHkpO1xuICAgICAgICBuZXdGbGlnaHQuc2F2ZShmdW5jdGlvbiAoZXJyLCBmbGlnaHQpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycjogZXJyIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRmxpZ2h0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0RmxpZ2h0cyA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgRmxpZ2h0LmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIGZsaWdodCkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyOiBlcnIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZmxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBGbGlnaHRDb250cm9sbGVyLnByb3RvdHlwZS5zZWFyY2hGbGlnaHRzID0gZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICB2YXIgcXVlcnkgPSB7XG4gICAgICAgICAgICAkYW5kOiBbe1xuICAgICAgICAgICAgICAgICAgICAnWWVhcic6IHJlcS5ib2R5LlllYXIsXG4gICAgICAgICAgICAgICAgICAgICdNb250aCc6IHJlcS5ib2R5Lk1vbnRoLFxuICAgICAgICAgICAgICAgICAgICAnRGF5b2ZNb250aCc6IHJlcS5ib2R5LkRheU9mTW9udGgsXG4gICAgICAgICAgICAgICAgICAgICdPcmlnaW4nOiByZXEuYm9keS5vcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICdEZXN0JzogcmVxLmJvZHkuZGVzdFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIEZsaWdodC5maW5kKHF1ZXJ5LCBmdW5jdGlvbiAoZXJyLCBmbGlnaHQpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycjogZXJyIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGZsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRmxpZ2h0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0RmxpZ2h0QnlJZCA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgRmxpZ2h0LmZpbmRCeUlkKHJlcS5wYXJhbXMuSUQsIGZ1bmN0aW9uIChlcnIsIGZsaWdodCkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyOiBlcnIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZmxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBGbGlnaHRDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVGbGlnaHQgPSBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgIEZsaWdodC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiByZXEucGFyYW1zLklEIH0sIHJlcS5ib2R5LCB7IG5ldzogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBmbGlnaHQpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycjogZXJyIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRmxpZ2h0Q29udHJvbGxlci5wcm90b3R5cGUuZGVsZXRlRmxpZ2h0ID0gZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICBGbGlnaHQuZGVsZXRlT25lKHsgX2lkOiByZXEucGFyYW1zLklEIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycjogZXJyIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEZsaWdodENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0IHsgRmxpZ2h0Q29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7IEZsaWdodENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vbGlzdGluZy9saWIvY29udHJvbGxlcnMvY3JtQ29udHJvbGxlclwiO1xuaW1wb3J0IFwicmVmbGVjdC1tZXRhZGF0YVwiO1xudmFyIExpc3RpbmdNb25nb0NvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlzdGluZ01vbmdvQ29udHJvbGxlcigpIHtcbiAgICAgICAgdGhpcy5mbGlnaHRDb250cm9sbGVyID0gbmV3IEZsaWdodENvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSBSb3V0ZXIoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXMoKTtcbiAgICB9XG4gICAgTGlzdGluZ01vbmdvQ29udHJvbGxlci5wcm90b3R5cGUucm91dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdXRlci5nZXQoXCIvaGVhbHRoelwiLCBmdW5jdGlvbiAoXywgcmVzKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChcIm9rXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yb3V0ZXIuZ2V0KFwiL2xpc3RGbGlnaHRzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9LCB0aGlzLmZsaWdodENvbnRyb2xsZXIuZ2V0RmxpZ2h0cyk7XG4gICAgICAgIHRoaXMucm91dGVyLnBvc3QoXCIvbGlzdEZsaWdodHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuZmxpZ2h0Q29udHJvbGxlci5hZGROZXdGbGlnaHQpO1xuICAgICAgICB0aGlzLnJvdXRlci5wb3N0KFwiL3NlYXJjaEZsaWdodHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuZmxpZ2h0Q29udHJvbGxlci5zZWFyY2hGbGlnaHRzKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIuZ2V0KFwiL2xpc3RGbGlnaHRzLzpJRFwiLCBmdW5jdGlvbiAoXywgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuZmxpZ2h0Q29udHJvbGxlci5nZXRGbGlnaHRCeUlkKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIucHV0KFwiL2xpc3RGbGlnaHRzLzpJRFwiLCBmdW5jdGlvbiAoXywgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuZmxpZ2h0Q29udHJvbGxlci51cGRhdGVGbGlnaHQpO1xuICAgICAgICB0aGlzLnJvdXRlci5kZWxldGUoXCIvbGlzdEZsaWdodHMvOklEXCIsIGZ1bmN0aW9uIChfLCByZXMsIG5leHQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSwgdGhpcy5mbGlnaHRDb250cm9sbGVyLmRlbGV0ZUZsaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdGluZ01vbmdvQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBuZXcgTGlzdGluZ01vbmdvQ29udHJvbGxlcigpLnJvdXRlcjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcbmltcG9ydCBMaXN0aW5nTW9uZ29Db250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvbGlzdGluZy9pbmRleCc7XG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xubW9uZ29vc2UuUHJvbWlzZSA9IFByb21pc2U7XG52YXIgQXBwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICAgICAgdGhpcy5tb25nb1VybCA9ICdtb25nb2RiOi8vMTY4LjEuMTQ4Ljg6MzIxNjUvaXRlbXMnO1xuICAgICAgICB0aGlzLmV4cHJlc3MgPSBleHByZXNzKCk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZSgpO1xuICAgICAgICB0aGlzLnJvdXRlcygpO1xuICAgICAgICB0aGlzLm1vbmdvU2V0dXAoKTtcbiAgICB9XG4gICAgQXBwLnByb3RvdHlwZS5tb25nb1NldHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBtb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3QodGhpcy5tb25nb1VybCk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLm1pZGRsZXdhcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICAgICAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICcqJyk7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgICAgICAgdGhpcy5leHByZXNzLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKHNlc3Npb24oeyBzZWNyZXQ6ICd0ZXN0MTIzJywgc2F2ZVVuaW5pdGlhbGl6ZWQ6IGZhbHNlLCByZXNhdmU6IHRydWUgfSkpO1xuICAgIH07XG4gICAgQXBwLnByb3RvdHlwZS5yb3V0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzcy5nZXQoJy8nLCBmdW5jdGlvbiAoXywgcmVzKSB7XG4gICAgICAgICAgICByZXMuc2VuZCgnaGknKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoJy8nLCBMaXN0aW5nTW9uZ29Db250cm9sbGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBBcHA7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgbmV3IEFwcCgpLmV4cHJlc3M7XG4iLCJpbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgQXBwIGZyb20gJy4vc2VydmVyJztcbmRlYnVnKCd0cy1leHByZXNzOnNlcnZlcicpO1xudmFyIEluaXRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5pdFNlcnZlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdmFyIHBvcnQgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KHZhbCwgMTApIDogdmFsO1xuICAgICAgICAgICAgaWYgKGlzTmFOKHBvcnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChwb3J0ID49IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcnQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5zeXNjYWxsICE9PSAnbGlzdGVuJylcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIHZhciBiaW5kID0gdHlwZW9mIF90aGlzLnBvcnQgPT09ICdzdHJpbmcnID8gJ1BpcGUgJyArIF90aGlzLnBvcnQgOiAnUG9ydCAnICsgX3RoaXMucG9ydDtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VBQ0NFUyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYmluZCArIFwiIHJlcXVpcmVzIGVsZXZhdGVkIHByaXZpbGVnZXNcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRUFERFJJTlVTRSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYmluZCArIFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTGlzdGVuaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsaXN0ZW5pbmcgb24gXCIgKyBfdGhpcy5wb3J0KTtcbiAgICAgICAgICAgIHZhciBhZGRyID0gX3RoaXMuc2VydmVyLmFkZHJlc3MoKTtcbiAgICAgICAgICAgIHZhciBiaW5kID0gdHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnID8gXCJwaXBlIFwiICsgYWRkciA6IFwicG9ydCBcIiArIGFkZHIucG9ydDtcbiAgICAgICAgICAgIGRlYnVnKFwiTGlzdGVuaW5nIG9uIFwiICsgYmluZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucG9ydCA9IHRoaXMubm9ybWFsaXplUG9ydCg3MDAwKTtcbiAgICAgICAgQXBwLnNldCgncG9ydCcsIHRoaXMucG9ydCk7XG4gICAgICAgIHRoaXMuc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoQXBwKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIubGlzdGVuKHRoaXMucG9ydCk7XG4gICAgICAgIHRoaXMuc2VydmVyLm9uKCdlcnJvcicsIHRoaXMub25FcnJvcik7XG4gICAgICAgIHRoaXMuc2VydmVyLm9uKCdsaXN0ZW5pbmcnLCB0aGlzLm9uTGlzdGVuaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIEluaXRTZXJ2ZXI7XG59KCkpO1xubmV3IEluaXRTZXJ2ZXIoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=